<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundle.EditSeguimientoProyectoTitle}"></h:outputText>
        </ui:define>

        <ui:define name="menumodulo">
            <div id="Layoutmenu">
                <p:menubar  style="float: right">
                    <p:menuitem outcome="/Seg_Proyectos/inicio_proyectos.xhtml" value="Inicio" />
                    <p:menuitem outcome="Create" value="Programar fechas de Seguimiento" />
                    <p:menuitem outcome="List" value="Realizar Seguimiento a proyecto" />
                </p:menubar>
            </div>
        </ui:define>

        <ui:define name="body">


            <p:growl id="msgs" showDetail="false" sticky="false"/>
            <h:form id="formSeguimientoProyecto">
                <div id="form" align="center">
                    <p:panelGrid>
                        <f:facet name="header">
                            <p:row>
                                <p:column colspan="9">EVALUACION Y SEGUIMIENTO
                                    <p:inputText  readonly="true" id="rolIdRol" value="#{seguimientoProyectoController.selected.idRol}" required="true" requiredMessage="#{bundle.EditSeguimientoProyectoRequiredMessage_rolIdRol}" />
                                </p:column>
                                <p:column colspan="6">
                                    <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idSeguimientoProyecto}" for="idSeguimientoProyecto" />
                                </p:column>
                                <p:column colspan="5" style="border-right: white"> 
                                    <p:inputText id="idSeguimientoProyecto" readonly="true" value="#{seguimientoProyectoController.selected.idSeguimientoProyecto}" title="#{bundle.EditSeguimientoProyectoTitle_idSeguimientoProyecto}" required="true" requiredMessage="#{bundle.EditSeguimientoProyectoRequiredMessage_idSeguimientoProyecto}"/>
                                </p:column>
                            </p:row>                            
                        </f:facet> 

                        <p:row>
                            <p:column colspan="7">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_fechaProgramacionSeguimiento}" for="fechaProgramacionSeguimiento" />
                            </p:column>
                            <p:column colspan="13"> 
                                <p:inputText  readonly="true" id="fechaProgramacionSeguimiento" value="#{seguimientoProyectoController.selected.fechaProgramacionSeguimiento}" title="#{bundle.EditSeguimientoProyectoTitle_fechaProgramacionSeguimiento}" />
                            </p:column>

                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_fechaSeguimientoInicio}" for="fechaSeguimientoInicio" />
                            </p:column>
                            <p:column colspan="4" style="border-right: white"> 
                                <p:calendar navigator="true" pattern="MM/dd/yyyy HH:mm:ss" showOn="button" id="fechaSeguimientoInicio" value="#{seguimientoProyectoController.selected.fechaSeguimientoInicio}" title="#{bundle.EditSeguimientoProyectoTitle_fechaSeguimientoInicio}" required="true"/>
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_fechaSeguimientoFin}" for="fechaSeguimientoFin" />
                            </p:column>
                            <p:column colspan="4" style="border-right: white"> 
                                <p:calendar navigator="true" pattern="MM/dd/yyyy HH:mm:ss" showOn="button" id="fechaSeguimientoFin" value="#{seguimientoProyectoController.selected.fechaSeguimientoFin}" title="#{bundle.EditSeguimientoProyectoTitle_fechaSeguimientoFin}" >
                                    <p:ajax update="totalhoras"/>
                                </p:calendar>
                            </p:column>
                            <p:column colspan="6" > 
                                <p:outputLabel id="totalhoras"   value="#{seguimientoProyectoController.getTimeDiff()}"  />
                            </p:column>
                        </p:row> 

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idFichaCaracterizacion}" for="idFichaCaracterizacion" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="idFichaCaracterizacion" readonly="true"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion}" >
                                </p:inputText>
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="Programa de formacion" for="idProgramadeFormacion" />
                            </p:column >
                            <p:column  colspan="10" > 
                                <p:inputText id="idProgramadeFormacion" readonly="true" size="60"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.nomPrg}" >
                                </p:inputText>
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="F. Apertura Ficha"/>
                            </p:column>
                            <p:column colspan="4" >
                                <h:outputText id="idFechaAperturaFicha"   value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.fecIniEtaLec}" />

                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="Proyecto" for="" />
                            </p:column >
                            <p:column  colspan="10" > 
                                <h:outputText id="idProyectoFormativo" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo}" />

                            </p:column>
                        </p:row>


                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idNivelFormacion}" for="idNivelFormacion" />
                            </p:column>
                            <p:column colspan="3" > 
                                <h:outputText id="idNivelFormacion" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idNivelFormacion}" />

                            </p:column>

                            <p:column colspan="1">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idArea}" for="idArea" />
                            </p:column>
                            <p:column colspan="3" style="border-right: white"> 
                                <p:selectOneMenu id="idArea" value="#{seguimientoProyectoController.selected.idArea}" >
                                    <f:selectItems value="#{areaController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>

                            <p:column colspan="1">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idJornadaFormacion}" for="idJornadaFormacion" />
                            </p:column>
                            <p:column colspan="9" > 
                                <h:outputText id="idJornadaFormacion" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idJornadaFormacion}" />

                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Duracion etapa lectiva"  />
                            </p:column>
                            <p:column colspan="4" > 
                                <h:outputText id="durPrgLec"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.durPrgLec}"  />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="D. etapa productiva" />
                            </p:column>
                            <p:column colspan="4" > 
                                <h:outputText id="durPrgPrac"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.durPrgPrac}"  />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="M.formacion" />
                            </p:column>
                            <p:column colspan="3"> 
                                <p:inputText id="duracionTotalProg" readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.duracionTotalProg}" />
                            </p:column>
                        </p:row> 

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idRegional}" for="idRegional" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputText id="idRegional" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.idCentroFormacion.idRegional}"  />

                            </p:column>

                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idSedeCentro}" for="codCen" />
                            </p:column >
                            <p:column colspan="11">
                                <h:outputText id="codCen" value="#{seguimientoProductivaController.selected.idFichaCaracterizacion.idPrograma.idCentroFormacion}" />
                            </p:column> 
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Duracion en horas"  />
                            </p:column>
                            <!-- -->

                            <p:column colspan="4" > 
                                <h:outputText id="dh"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.duracionTotalProg}" />
                            </p:column>

                            <p:column colspan="3">
                                <h:outputLabel value="Instructor"  />
                            </p:column >
                            <p:column  colspan="10" > 
                                <h:outputText id="nomInstructor" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.idUsuario}" />
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Matriculados" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="m" readonly="true" value="#{seguimientoProyectoController.aprendicesByMatriculado}" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="Activos" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="a" readonly="true" value="#{seguimientoProyectoController.aprendicesByActivos}" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="% Desercion" />
                            </p:column>    
                            <p:column colspan="3"> 
                                <p:inputText id="desercion" readonly="true" value="cantidad" />
                            </p:column>
                        </p:row> 
                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Evaluador" for="idUsuario" />
                            </p:column>
                            <p:column colspan="17" > 
                                <h:outputText id="idUsuario"  value="#{seguimientoProyectoController.selected.idRol}" />

                            </p:column>   
                        </p:row> 
                        <p:row>
                            <p:column colspan="2">
                                <h:outputLabel value="F. Proyecto" />
                            </p:column>

                            <p:column colspan="1" style="border-right: white"> 
                                <h:outputLabel value="Analisis" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputText id="an"  value="#{seguimientoProyectoController.cumple()}" /> 

                            </p:column>
                            <p:column colspan="1" style="border-right: white"> 
                                <h:outputLabel value="Planeacion" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="pn" size="8" readonly="true" value="resultado  calculado" /> 
                            </p:column>  
                            <p:column colspan="1"> 
                                <h:outputLabel value="Ejecucion" />
                            </p:column>
                            <p:column colspan="4">
                                <p:inputText id="ejcu" size="8" readonly="true" value="resultado  calculado" /> 
                            </p:column> 
                            <p:column colspan="2"> 
                                <h:outputLabel value="Evaluacion" />
                            </p:column>
                            <p:column colspan="4"> 
                                <p:inputText id="eval" size="8" readonly="true" value="resultado  calculado" /> 
                            </p:column>
                        </p:row> 
                        <p:row>  
                            <p:column colspan="20" styleClass="ui-widget-header">  
                                <p:spacer />  
                            </p:column>  
                        </p:row> 
                        <p:row>


                            <p:column rowspan="6"> 
                                <h:outputLabel value="Verificacion y alcance del proyecto" /> 
                            </p:column>   


                        </p:row>

                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Beneficiarios" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <h:outputText id="b" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.benficiarioProyecto}" />
                            </p:column>  

                        </p:row>

                        <p:row>


                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Social" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <h:outputText id="Ip"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.impSocial}" />
                            </p:column> 
                        </p:row>

                        <p:row>


                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Economico" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <h:outputText id="Ie" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.impEconomico}" />
                            </p:column>  
                        </p:row>

                        <p:row>


                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Ambiental" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <h:outputText id="iam"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.impactoAmbiental}" />
                            </p:column>  
                        </p:row>
                        <p:row>
                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Tecnologico" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <h:outputText id="It" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.impTecnologico}" />
                            </p:column>  
                        </p:row>
                        <p:row>


                            <p:column rowspan="5"> 
                                <h:outputLabel value="Estados de los aprendices" /> 
                            </p:column>   


                        </p:row>

                        <p:row>
                            <p:column colspan="5"> 
                                <h:outputLabel value="Aplazados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <h:outputText id="aplazados" value="#{seguimientoProyectoController.aprendicesByAplazado}" />
                            </p:column>  
                            <p:column rowspan="4"> 
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_evaluacionProyecto}" />
                                <p:inputTextarea id="evaluacionProyecto" value="#{seguimientoProyectoController.selected.evaluacionProyecto}" title="#{bundle.EditSeguimientoProyectoTitle_evaluacionProyecto}" rows="6" readonly="true" cols="20" />  
                            </p:column>  
                        </p:row>
                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Cancelados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <h:outputText id="cancelados" value="#{seguimientoProyectoController.aprendicesByCancelado}"/>
                            </p:column>   

                        </p:row>
                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Trasladados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <h:outputText id="trasladados" value="#{seguimientoProyectoController.aprendicesByTrasladado}"/>
                            </p:column>   
                        </p:row>

                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Condicionados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <h:outputText id="condicionados" value="#{seguimientoProyectoController.aprendicesByCondicionado}"/>
                            </p:column>   

                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Competencias Actuales"  />
                            </p:column>
                            <p:column colspan="4" > 
                                <h:outputText id="competenciasactuales" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idPrograma.numTotCom}" />
                            </p:column>


                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idResultadoAprendizaje}" for="idResultadoAprendizaje" />
                            </p:column>
                            <p:column  colspan="10" > 
                                <h:outputText id="idResultadoAprendizaje"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyectoFormativo.numeroTotalResultados}" />
                            </p:column>
                        </p:row>


                        <p:row>  
                            <p:column colspan="20" style="background-color: #fc7323;"><center><font color="white"><strong>Revision y seguimiento al proyecto</strong></font></center> </p:column> 
                        </p:row> 
                        <p:row> 
                            <p:column colspan="20" > 
                                <p:scrollPanel style="width:1130px;height:324px" mode="native"> 
                                <p:dataTable id="tableListCriterioEvaluacion" 
                                             value="#{seguimientoProyectoController.listCriteriosSeg}" 
                                             var="item" editable="true" 
                                             paginator="true" rows="10" paginatorAlwaysVisible="false"
                                             paginatorTemplate="{FirstPageLink} {PreviousPageLink}
                                             {PageLinks} {NextPageLink}
                                             {LastPageLink} {RowsPerPageDropdown}"  
                                             rowsPerPageTemplate="5,10,15" paginatorPosition="bottom"                                    
                                             emptyMessage="No se encontraron datos con el criterio dado"
                                             widgetVar="tableCriterioEvaluacion">
                                    <p:ajax event="rowEdit"  update=":formSeguimientoProyecto:an" />  
                                    <p:column headerText="#{bundle.ListTituloCriterioTitle_descrNomTituloCriterio}">                        
                                        <h:outputText value="#{item.idCriterioEvaluacion.idTituloCriterio.descrNomTituloCriterio}"/>
                                    </p:column>
                                    <p:column headerText="#{bundle.ListCriterioEvaluacionTitle_idCriterioEvaluacion}">                        
                                        <h:outputText value="#{item.idCriterioEvaluacion.nomCriterio}"/>
                                    </p:column>

                                    <p:column headerText="#{bundle.ListEvaluacionCriterioSeguimientoProyectoTitle_nomEvaCri}">                        
                                        <p:cellEditor>  
                                            <f:facet name="output">  
                                                <h:outputText value="#{item.idEvaluacionCriterioSeguimientoProyecto.nomEvaCri}" />  
                                            </f:facet>  
                                            <f:facet name="input">  
                                                <p:selectOneMenu value="#{item.idEvaluacionCriterioSeguimientoProyecto}" >
                                                    <f:selectItems value="#{seguimientoProyectoController.itemsAvailableSelectOneEval}"/>
                                                </p:selectOneMenu>
                                            </f:facet> 
                                        </p:cellEditor>  
                                    </p:column>



                                    <p:column headerText="#{bundle.CreateCriterioSeguimientoProyectoLabel_idTipoJuicio}">                        
                                        <p:cellEditor>  
                                            <f:facet name="output">  
                                                <h:outputText value="#{item.idTipoJuicio.nomTipJui}" />  
                                            </f:facet>  
                                            <f:facet name="input">  
                                                <p:selectOneMenu id="idTipoJuicio" value="#{item.idTipoJuicio}" >
                                                    <f:selectItems value="#{tipoJuicioController.itemsAvailableSelectOne}"/>
                                                </p:selectOneMenu>
                                            </f:facet> 
                                        </p:cellEditor>  
                                    </p:column>



                                    <p:column headerText="#{bundle.CreateCriterioSeguimientoProyectoLabel_idGradoJuicio}">                        
                                        <p:cellEditor>  
                                            <f:facet name="output">  
                                                <h:outputText value="#{item.idGradoJuicio.descrGradoJuicio}" />  
                                            </f:facet>  
                                            <f:facet name="input">  
                                                <p:selectOneMenu id="idGradoJuicio" value="#{item.idGradoJuicio}" >
                                                    <f:selectItems value="#{gradoJuicioController.itemsAvailableSelectOne}"/>
                                                </p:selectOneMenu>
                                            </f:facet> 
                                        </p:cellEditor>  
                                    </p:column>


                                    <p:column headerText="#{bundle.CreateCriterioSeguimientoProyectoLabel_idEstadoJuicio}">                        
                                        <p:cellEditor>  
                                            <f:facet name="output">  
                                                <h:outputText value="#{item.idEstadoJuicio.nomEstadoJuicio}" />  
                                            </f:facet>  
                                            <f:facet name="input">  
                                                <p:selectOneMenu id="idEstadoJuicio" value="#{item.idEstadoJuicio}" >
                                                    <f:selectItems value="#{estadoJuicioController.itemsAvailableSelectOne}"/>
                                                </p:selectOneMenu>
                                            </f:facet> 
                                        </p:cellEditor>  
                                    </p:column>

                                    <p:column headerText="#{bundle.CreateCriterioSeguimientoProyectoLabel_obsCriSeg}">                        
                                        <p:cellEditor>  
                                            <f:facet name="output">  
                                                <h:outputText value="#{item.obsCriSeg}" />  
                                            </f:facet>  
                                            <f:facet name="input">  
                                        <h:inputText  value="#{item.obsCriSeg}"/>
                                        </f:facet> 
                                        </p:cellEditor>  
                                    </p:column>

                                    <p:column style="width:6%">  
                                        <p:rowEditor />  
                                    </p:column> 
                                </p:dataTable>
                                    </p:scrollPanel> 
                            </p:column>
 

                        </p:row> 

                    </p:panelGrid>
                    <p:panelGrid>

                    </p:panelGrid>
                    <br />
                    <br />                
                    <p:commandButton process="@this, @form" update="@form, :msgs"
                                     action="#{seguimientoProyectoController.update}" value="#{bundle.EditSeguimientoProyectoSaveLink}" icon="ui-icon-disk"/>
                    <p:button outcome="View" value="#{bundle.EditSeguimientoProyectoViewLink}" icon="ui-icon-searh"/>
                    <br />
                    <p:commandButton ajax="false" action="#{seguimientoProyectoController.prepareList}" value="#{bundle.EditSeguimientoProyectoShowAllLink}" immediate="true"/>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>







