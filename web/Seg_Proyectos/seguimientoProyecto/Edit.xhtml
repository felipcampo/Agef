<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundle.EditSeguimientoProyectoTitle}"></h:outputText>
        </ui:define>

        <ui:define name="menumodulo">
            <div id="Layoutmenu">
                <p:menubar  style="float: right">
                    <p:menuitem url="../inicio_proyectos.xhtml" value="Inicio" />
                    <p:menuitem url="Create.xhtml" value="Programar fechas de Seguimiento" />
                    <p:menuitem url="List.xhtml" value="Realizar Seguimiento a proyecto" />
                </p:menubar>
         </div>
        </ui:define>

        <ui:define name="body">


            <p:growl id="msgs" showDetail="false" sticky="false"/>
            <h:form id="formSeguimientoProyecto">
                <div id="form" align="center">
                    <p:panelGrid>
                        <f:facet name="header">
                            <p:row>
                                <p:column colspan="9">EVALUACION Y SEGUIMIENTO
                                    <p:inputText  readonly="true" id="rolIdRol" value="#{seguimientoProyectoController.selected.rolIdRol}" required="true" requiredMessage="#{bundle.EditSeguimientoProyectoRequiredMessage_rolIdRol}" />
                                </p:column>
                                <p:column colspan="6">
                                    <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idSeguimientoProyecto}" for="idSeguimientoProyecto" />
                                </p:column>
                                <p:column colspan="5" style="border-right: white"> 
                                    <p:inputText id="idSeguimientoProyecto" value="#{seguimientoProyectoController.selected.idSeguimientoProyecto}" title="#{bundle.EditSeguimientoProyectoTitle_idSeguimientoProyecto}" required="true" requiredMessage="#{bundle.EditSeguimientoProyectoRequiredMessage_idSeguimientoProyecto}"/>
                                </p:column>
                            </p:row>                            
                        </f:facet> 

                        <p:row>
                            <p:column colspan="7">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_fechaProgramacionSeguimiento}" for="fechaProgramacionSeguimiento" />
                            </p:column>
                            <p:column colspan="13"> 
                                <p:inputText  readonly="true" id="fechaProgramacionSeguimiento" value="#{seguimientoProyectoController.selected.fechaProgramacionSeguimiento}" title="#{bundle.EditSeguimientoProyectoTitle_fechaProgramacionSeguimiento}" />
                            </p:column>

                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_fechaSeguimientoInicio}" for="fechaSeguimientoInicio" />
                            </p:column>
                            <p:column colspan="4" style="border-right: white"> 
                                <p:calendar navigator="true" pattern="MM/dd/yyyy HH:mm:ss" showOn="button" id="fechaSeguimientoInicio" value="#{seguimientoProyectoController.selected.fechaSeguimientoInicio}" title="#{bundle.EditSeguimientoProyectoTitle_fechaSeguimientoInicio}" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_fechaSeguimientoFin}" for="fechaSeguimientoFin" />
                            </p:column>
                            <p:column colspan="4" style="border-right: white"> 
                                <p:calendar navigator="true" pattern="MM/dd/yyyy HH:mm:ss" showOn="button" id="fechaSeguimientoFin" value="#{seguimientoProyectoController.selected.fechaSeguimientoFin}" title="#{bundle.EditSeguimientoProyectoTitle_fechaSeguimientoFin}" />
                            </p:column>
                            <p:column colspan="6" > 
                                <p:inputText id="totalhoras" readonly="true" value="Total horas" title=""  />
                            </p:column>
                        </p:row> 

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idFichaCaracterizacion}" for="idFichaCaracterizacion" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="idFichaCaracterizacion" readonly="true"  value="#{seguimientoProyectoController.selected.idFichaCaracterizacion}" >
                                </p:inputText>
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="Programa de formacion" for="Programa de formacion" />
                            </p:column >
                            <p:column  colspan="10" > 
                                <p:inputText id="idProgramadeFormacion" readonly="true" size="60"  value="" >
                                </p:inputText>
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="F. Apertura Ficha"/>
                            </p:column>
                            <p:column colspan="4" >
                                <p:inputText id="idFechaAperturaFicha" readonly="true"   value="fecha ap ficha" >
                                </p:inputText>
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="Proyecto" for="" />
                            </p:column >
                            <p:column  colspan="10" > 
                                <p:selectOneMenu id="idProyectoFormativo" value="#{seguimientoProyectoController.selected.idProyectoFormativo}" >
                                    <f:selectItems value="#{proyectoFormativoController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>


                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idNivelFormacion}" for="idNivelFormacion" />
                            </p:column>
                            <p:column colspan="3" > 
                                <p:selectOneMenu id="idNivelFormacion" value="#{seguimientoProyectoController.selected.idNivelFormacion}" >
                                    <f:selectItems value="#{nivelFormacionController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>

                            <p:column colspan="1">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idArea}" for="idArea" />
                            </p:column>
                            <p:column colspan="3" style="border-right: white"> 
                                <p:selectOneMenu id="idArea" value="#{seguimientoProyectoController.selected.idArea}" >
                                    <f:selectItems value="#{areaController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>

                            <p:column colspan="1">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idJornadaFormacion}" for="idJornadaFormacion" />
                            </p:column>
                            <p:column colspan="9" > 
                                <p:selectOneMenu id="idJornadaFormacion" value="#{seguimientoProyectoController.selected.idJornadaFormacion}" >
                                    <f:selectItems value="#{jornadaFormacionController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Duracion etapa lectiva"  />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="durPrgLec"  value="Duracion"  />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="D. etapa productiva" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="durPrgPrac"  value="Duracion"  />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="M.formacion" />
                            </p:column>
                            <p:column colspan="3"> 
                                <p:inputText id="duracionTotalProg" readonly="true" value="duracion programa" />
                            </p:column>
                        </p:row> 

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idRegional}" for="idRegional" />
                            </p:column>
                             <p:column>
                                <p:selectOneMenu id="idRegional" value="#{seguimientoProductivaController.selectedRegional}" required="true" requiredMessage="#{bundle.CreateCentroFormacionRequiredMessage_idRegional}">
                                    <f:selectItems value="#{seguimientoProductivaController.itemsAvailableSelectOneRegional}"/>
                                    <p:ajax update="codCen"/>
                                </p:selectOneMenu>
                            </p:column>

                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idSedeCentro}" for="idSedeCentro" />
                            </p:column >
                            <p:column>
                                <p:selectOneMenu id="codCen" value="#{seguimientoProductivaController.selected.idCentroFormacion}" required="true" requiredMessage="#{bundle.CreateSeguimientoProductivaRequiredMessage_idCentroFormacion}">
                                    <f:selectItems value="#{seguimientoProductivaController.itemsAvailableSelectOneCentroByRegional}"/>
                                </p:selectOneMenu>
                            </p:column> 
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Duracion en horas"  />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="dh" readonly="true" value="cantidad de horas de duracion" />
                            </p:column>

                            <p:column colspan="3">
                                <h:outputLabel value="Instructor"  />
                            </p:column >
                            <p:column  colspan="10" > 
                                <p:selectOneMenu id="nomInstructor" value="#{seguimientoProyectoController.selected.nomInstructor}" >
                                    <f:selectItems value="#{seguimientoProyectoController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Matriculados" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="m" readonly="true" value="cantidad" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="Activos" />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="a" readonly="true" value="cantidad" />
                            </p:column>
                            <p:column colspan="3">
                                <h:outputLabel value="% Desercion" />
                            </p:column>    
                            <p:column colspan="3"> 
                                <p:inputText id="desercion" readonly="true" value="cantidad" />
                            </p:column>
                        </p:row> 
                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Evaluador" for="idUsuario" />
                            </p:column>
                            <p:column colspan="17" > 
                                <p:selectOneMenu id="idUsuario" value="#{seguimientoProyectoController.selected.idUsuario}" >
                                    <f:selectItems value="#{usuarioController.itemsAvailableSelectOne}"/>
                                </p:selectOneMenu>
                            </p:column>   
                        </p:row> 
                        <p:row>
                            <p:column colspan="2">
                                <h:outputLabel value="F. Proyecto" />
                            </p:column>

                            <p:column colspan="1" style="border-right: white"> 
                                <h:outputLabel value="Analisis" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="an" size="8" readonly="true" value="resultado  calculado" /> 

                            </p:column>
                            <p:column colspan="1" style="border-right: white"> 
                                <h:outputLabel value="Planeacion" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="pn" size="8" readonly="true" value="resultado  calculado" /> 
                            </p:column>  
                            <p:column colspan="1"> 
                                <h:outputLabel value="Ejecucion" />
                            </p:column>
                            <p:column colspan="4">
                                <p:inputText id="ejcu" size="8" readonly="true" value="resultado  calculado" /> 
                            </p:column> 
                            <p:column colspan="2"> 
                                <h:outputLabel value="Evaluacion" />
                            </p:column>
                            <p:column colspan="4"> 
                                <p:inputText id="eval" size="8" readonly="true" value="resultado  calculado" /> 
                            </p:column>
                        </p:row> 
                        <p:row>  
                            <p:column colspan="20" styleClass="ui-widget-header">  
                                <p:spacer />  
                            </p:column>  
                        </p:row> 
                        <p:row>


                            <p:column rowspan="6"> 
                                <h:outputLabel value="Verificacion y alcance del proyecto" /> 
                            </p:column>   


                        </p:row>

                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Beneficiarios" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <p:inputText id="b" readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyecto.benficiarioProyecto}" size="70"/>
                            </p:column>  

                        </p:row>

                        <p:row>


                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Social" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <p:inputText id="Ip"  readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyecto.impSocial}" size="70"/>
                            </p:column> 
                        </p:row>

                        <p:row>


                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Economico" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <p:inputText id="Ie" readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyecto.impEconomico}" size="70"/>
                            </p:column>  
                        </p:row>

                        <p:row>


                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Ambiental" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <p:inputText id="iam"  readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyecto.impactoAmbiental}" size="70"/>
                            </p:column>  
                        </p:row>
                        <p:row>
                            <p:column colspan="5"> 
                                <h:outputLabel value="Impacto Tecnologico" /> 
                            </p:column>   

                            <p:column colspan="15"> 
                                <p:inputText id="It"  readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyecto.impTecnologico}" size="70"/>
                            </p:column>  
                        </p:row>
                        <p:row>


                            <p:column rowspan="5"> 
                                <h:outputLabel value="Estados de los aprendices" /> 
                            </p:column>   


                        </p:row>

                        <p:row>
                            <p:column colspan="5"> 
                                <h:outputLabel value="Aplazados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <p:inputText id="aplazados" readonly="true" value="#{seguimientoProyectoController.aprendicesByAplazado}" />
                            </p:column>  
                            <p:column rowspan="4"> 
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_evaluacionProyecto}" />
                                <p:inputTextarea id="evaluacionProyecto" value="#{seguimientoProyectoController.selected.evaluacionProyecto}" title="#{bundle.EditSeguimientoProyectoTitle_evaluacionProyecto}" rows="6" readonly="true" cols="20" />  
                            </p:column>  
                        </p:row>
                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Cancelados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <p:inputText id="cancelados"  readonly="true" value="#{seguimientoProyectoController.aprendicesByCancelado}"/>
                            </p:column>   

                        </p:row>
                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Trasladados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <p:inputText id="trasladados"  readonly="true" value="#{seguimientoProyectoController.aprendicesByTrasladado}"/>
                            </p:column>   
                        </p:row>

                        <p:row>

                            <p:column colspan="5"> 
                                <h:outputLabel value="Condicionados" /> 
                            </p:column>   

                            <p:column colspan="12"> 
                                <p:inputText id="condicionados"  readonly="true" value="#{seguimientoProyectoController.aprendicesByCondicionado}"/>
                            </p:column>   

                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <h:outputLabel value="Competencias Actuales"  />
                            </p:column>
                            <p:column colspan="4" > 
                                <p:inputText id="competenciasactuales" readonly="true" value="viene de otra tabla" />
                            </p:column>


                            <p:column colspan="3">
                                <h:outputLabel value="#{bundle.EditSeguimientoProyectoLabel_idResultadoAprendizaje}" for="idResultadoAprendizaje" />
                            </p:column>
                             <p:column  colspan="10" > 
                               <p:inputText id="idResultadoAprendizaje" readonly="true" value="#{seguimientoProyectoController.selected.idFichaCaracterizacion.idProyecto.numeroTotalResultados}" />
                             </p:column>
                        </p:row>


                        <p:row>  
                            <p:column colspan="20" style="background-color: #fc7323;"><center><font color="white"><strong>Revision y seguimiento al proyecto</strong></font></center> </p:column> 
                        </p:row> 
                        <p:row> 
                            <p:column colspan="20" >      
                                <p:dataTable id="tableListCriterioEvaluacion" 
                                             value="#{seguimientoProyectoController.listCriteriosSeg}" 
                                             var="item" editable="true" 
                                             paginator="true" rows="10" paginatorAlwaysVisible="false"
                                             paginatorTemplate="{FirstPageLink} {PreviousPageLink}
                                             {PageLinks} {NextPageLink}
                                             {LastPageLink} {RowsPerPageDropdown}"  
                                             rowsPerPageTemplate="5,10,15" paginatorPosition="bottom"                                     
                                             emptyMessage="No se encontraron datos con el criterio dado"
                                             widgetVar="tableCriterioEvaluacion">
                                    <p:column headerText="#{bundle.ListTituloCriterioTitle_descrNomTituloCriterio}">                        
                                        <h:outputText value="#{item.idCriterioEvaluacion.idTituloCriterio.descrNomTituloCriterio}"/>
                                    </p:column>
                                    <p:column headerText="#{bundle.ListCriterioEvaluacionTitle_idCriterioEvaluacion}">                        
                                        <h:outputText value="#{item.idCriterioEvaluacion.nomCriterio}"/>
                                    </p:column>
                                    <p:column headerText="#{bundle.ListEvaluacionCriterioSeguimientoProyectoTitle_nomEvaCri}">                        
                                        <p:cellEditor>  
                                            <f:facet name="output">  
                                                <h:outputText value="#{item.idEvaluacionCriterioSeguimientoProyecto.nomEvaCri}" />  
                                            </f:facet>  
                                            <f:facet name="input">  
                                                <p:selectOneMenu value="#{item.idEvaluacionCriterioSeguimientoProyecto}" >
                                                    <f:selectItems value="#{seguimientoProyectoController.itemsAvailableSelectOneEval}"/>
                                                </p:selectOneMenu>
                                            </f:facet> 
                                        </p:cellEditor>  
                                    </p:column>
                                    <p:column style="width:6%">  
                                        <p:rowEditor />  
                                    </p:column> 

                                </p:dataTable>

                            </p:column>


                        </p:row> 

                    </p:panelGrid>
                    <p:panelGrid>

                    </p:panelGrid>
                    <br />
                    <br />                
                    <p:commandButton process="@this, @form" update="@form, :msgs"
                                     action="#{seguimientoProyectoController.update}" value="#{bundle.EditSeguimientoProyectoSaveLink}" icon="ui-icon-disk"/>
                    <p:button outcome="View" value="#{bundle.EditSeguimientoProyectoViewLink}" icon="ui-icon-searh"/>
                    <br />
                    <p:commandButton ajax="false" action="#{seguimientoProyectoController.prepareList}" value="#{bundle.EditSeguimientoProyectoShowAllLink}" immediate="true"/>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>







