<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundle.EditGuiaAprendizajeTitle}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <div id="Layout_Titulo_Formulario_Agef"> <h2>GUIA DE APRENDIZAJE</h2></div>
            <div id="Layout_Nom_Form_Agef">
                <h3 id="margen"> #{bundle.CreateGuiaAprendizajeTitle}</h3>
                <div id="Layout_Formulario_Agef">
                    <br></br>  
                    <p:growl id="msgs" showDetail="false" sticky="false"/>
                    <h:form id="formGuiaAprendizaje">
                        <div id="form" align="center">
                            <p:panelGrid>
                                <f:facet  name="header">
                                    <p:row>
                                        <p:column colspan="1">
                                            <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_idFichaCaracterizacion}" for="idFichaCaracterizacion" />
                                        </p:column>
                                        <p:column colspan="3">

                                            <p:commandButton process="@this" id="idFichaCaracterizacion2" icon="ui-icon-search" onclick="dlgBuscarFicha.show();"  type="button" />

                                        </p:column> 
                                        <p:column colspan="6" style="border-right: white">    
                                            Guia de aprendizaje
                                        </p:column>
                                    </p:row>
                                </f:facet>                       

                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateProgramaLabel_nomPrg}" for="nomPrg" />
                                    </p:column>
                                    <p:column colspan="3" >    
                                        <h:outputText id="nomPrg" value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idPrograma.nomPrg}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column >
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateProgramaLabel_version}" for="version" />
                                    </p:column>
                                    <p:column colspan="5" >   
                                        <h:outputText id="version" value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idPrograma.version}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="#{bundle.CreateProyectoFormativoLabel_nombreProyecto}" for="nombreProyecto" />
                                    </p:column>
                                    <p:column colspan="9" >    
                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.nombreProyecto}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateFaseProyectoLabel_descrNomFasPro}" for="descrNomFasPro" />
                                    </p:column>
                                    <p:column colspan="9" >    
                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idActividadProyecto.idFaseProyecto.descrNomFasPro}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateActividadProyectoLabel_descrActividadProyecto}" for="descrActividadProyecto" />
                                    </p:column>
                                    <p:column colspan="3" >    
                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idActividadProyecto.descrActividadProyecto}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column >
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateActividadProyectoLabel_duracionActividad}" for="duracionActividad" />
                                    </p:column>
                                    <p:column colspan="5" >    
                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idActividadProyecto.duracionActividad}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateCompetenciaLabel_nomCom}" for="nomCom" />
                                    </p:column>
                                    <p:column colspan="9" >    

                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idResultadoAprendizaje.idCompetencia.nomCom}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateResultadoAprendizajeLabel_descrNomResuApr}" for="descrNomResuApr" />
                                    </p:column>
                                    <p:column colspan="9" >    

                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idResultadoAprendizaje.descrNomResuApr}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="10" styleClass="ui-widget-header" ><center>INTRODUCCION</center></p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_introduccionGuia}" for="introduccionGuia" />
                                    </p:column>
                                    <p:column colspan="9" style="border-right: white">    
                                        <p:inputTextarea rows="4" cols="80" id="introduccionGuia" value="#{guiaAprendizajeController.selected.introduccionGuia}" title="#{bundle.CreateGuiaAprendizajeTitle_introduccionGuia}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_introduccionGuia}"/>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column colspan="10" styleClass="ui-widget-header" ><center>ESTRUCTURACION DIDACTICA DE LAS ACTIVIDADES DE APRENDIZAJE</center></p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_actividadReflexionInicial}" for="actividadReflexionInicial" />
                                    </p:column>
                                    <p:column colspan="9" style="border-right: white">    
                                        <p:inputTextarea rows="4" cols="80" id="actividadReflexionInicial" value="#{guiaAprendizajeController.selected.actividadReflexionInicial}" title="#{bundle.CreateGuiaAprendizajeTitle_actividadReflexionInicial}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_actividadReflexionInicial}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_actividadContextualizacion}" for="actividadContextualizacion" />
                                    </p:column>
                                    <p:column colspan="9" style="border-right: white">    
                                        <p:inputTextarea rows="4" cols="80" id="actividadContextualizacion" value="#{guiaAprendizajeController.selected.actividadContextualizacion}" title="#{bundle.CreateGuiaAprendizajeTitle_actividadContextualizacion}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_actividadContextualizacion}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_actividadApropiacionPro}" for="actividadApropiacionPro" />
                                    </p:column>
                                    <p:column colspan="9" style="border-right: white">    
                                        <p:inputTextarea rows="4" cols="80" id="actividadApropiacionPro" value="#{guiaAprendizajeController.selected.actividadApropiacionPro}" title="#{bundle.CreateGuiaAprendizajeTitle_actividadApropiacionPro}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_actividadApropiacionPro}"/>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_actividadTransferenciaConoci}" for="actividadTransferenciaConoci" />
                                    </p:column>
                                    <p:column colspan="9" style="border-right: white">    
                                        <p:inputTextarea rows="4" cols="80" id="actividadTransferenciaConoci" value="#{guiaAprendizajeController.selected.actividadTransferenciaConoci}" title="#{bundle.CreateGuiaAprendizajeTitle_actividadTransferenciaConoci}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_actividadTransferenciaConoci}"/>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column colspan="10" styleClass="ui-widget-header" ><center>ACTIVIDADES DE EVALUACIÓN</center></p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputLabel value="EVIDENCIAS DE APRENDIZAJE" for="descrEviApr" />
                                    </p:column>
                                    <p:column colspan="8">
                                        <h:outputLabel value="CRITERIOS DE EVALUACION" for="idCriterioEvaluacion" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="2" >    

                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idEvidenciaAprendizaje.nomEviApr}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                    <p:column colspan="8" >    

                                        <h:outputText value="#{guiaAprendizajeController.selected.idFichaCaracterizacion.idProyectoFormativo.idEvidenciaAprendizaje.idCriterioEvaluacion}" title="#{bundle.CreateProgramaTitle_nomPrg}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="2" >    

                                    </p:column>
                                    <p:column colspan="8" >    

                                    </p:column>
                                </p:row>
                                <p:row>
                                     <p:column colspan="2" >    

                                    </p:column>
                                    <p:column colspan="8" >    

                                    </p:column>
                                </p:row>
                                <p:row>
                                     <p:column colspan="2" >    

                                    </p:column>
                                    <p:column colspan="8" >    

                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="10" styleClass="ui-widget-header" ><center>AMBIENTES DE APRENDIZAJE, DEDIOS Y RECURSOS DIDACTICOS</center></p:column>
                                </p:row>
                          
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputLabel value="Ambiente" for="idAmbiente" />
                                    </p:column>
                                    <p:column colspan="8" style="border-right: white">    
                                        <p:selectOneMenu id="idAmbiente" value="#{guiaAprendizajeController.selected.idAmbiente}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_idAmbiente}">
                                            <f:selectItems value="#{ambienteController.itemsAvailableSelectOne}"/>
                                        </p:selectOneMenu>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_bibliografia}" for="bibliografia" />
                                    </p:column>
                                    <p:column colspan="8" style="border-right: white">    
                                        <p:inputTextarea rows="4" cols="80" id="bibliografia" value="#{guiaAprendizajeController.selected.bibliografia}" title="#{bundle.CreateGuiaAprendizajeTitle_bibliografia}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_bibliografia}"/>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_glosario}" for="glosario" />
                                    </p:column>
                                    <p:column colspan="8" style="border-right: white">    
                                        <p:inputText id="glosario" value="#{guiaAprendizajeController.selected.glosario}" title="#{bundle.CreateGuiaAprendizajeTitle_glosario}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_glosario}"/>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_idActividadProyecto}" for="idActividadProyecto" />
                                    </p:column>
                                    <p:column colspan="8" style="border-right: white">    
                                        <p:selectOneMenu id="idActividadProyecto" value="#{guiaAprendizajeController.selected.idActividadProyecto}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_idActividadProyecto}">
                                            <f:selectItems value="#{actividadProyectoController.itemsAvailableSelectOne}"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="2">
                                        <h:outputLabel value="#{bundle.CreateGuiaAprendizajeLabel_idProyectoFormativo}" for="idProyectoFormativo" />
                                    </p:column>
                                    <p:column colspan="8" style="border-right: white">    
                                        <p:selectOneMenu id="idProyectoFormativo" value="#{guiaAprendizajeController.selected.idProyectoFormativo}" required="true" requiredMessage="#{bundle.CreateGuiaAprendizajeRequiredMessage_idProyectoFormativo}">
                                            <f:selectItems value="#{proyectoFormativoController.itemsAvailableSelectOne}"/>
                                        </p:selectOneMenu>
                                    </p:column>

                                </p:row>
                            </p:panelGrid>
                            <p:panelGrid id="ficha">
                                <p:row>

                                </p:row>

                            </p:panelGrid>

                            <br />
                            <br />
                            <p:commandButton process="@this, @form" update="@form, :msgs"
                                             action="#{guiaAprendizajeController.create}" value="#{bundle.CreateGuiaAprendizajeSaveLink}" icon="ui-icon-disk"/>
                            <br />
                            <br />
                            <p:commandButton ajax="false" action="#{guiaAprendizajeController.prepareList}" value="#{bundle.CreateGuiaAprendizajeShowAllLink}" immediate="true"/>
                        </div>
                    </h:form>
                    <br/><br/>
                </div>
            </div>
            <div id="Layout_Info_Agef">
                <h4>INFORMACION</h4>
                <hr></hr>
                <p id="margen">Informacion de ayuda para formularios</p>
            </div>

        </ui:define>

        <ui:define name="dialogs">

            <p:dialog id="buscarFichas" widgetVar="dlgBuscarFicha" modal="true" resizable="false">
                <p:growl id="msgDialogoBuscar"/>
                <p:tabView>
                    <p:tab title="Buscar">
                        <h:form id="formularioBuscar"> 
                            <p:panelGrid>
                                <p:row>
                                    <p:column>   
                                        <p:inputText id="idFichaCaracterizacion" value="#{guiaAprendizajeController.selectedFicha.idFichaCaracterizacion}" title="#{bundle.CreateFichaCaracterizacionTitle_idFichaCaracterizacion}"/>
                                        <p:watermark value="#{bundle.CreateFichaCaracterizacionLabel_idFichaCaracterizacion}" for="idFichaCaracterizacion" />
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="nomPrograma" value="#{guiaAprendizajeController.selectedPrograma.nomPrg}" title="#{bundle.CreateProgramaTitle_nomPrg}" />
                                        <p:watermark value="#{bundle.CreateProgramaLabel_nomPrg}" for="nomPrograma" />
                                    </p:column>   
                                    <p:column >
                                        <p:commandButton action="#{guiaAprendizajeController.buscarFicha()}"
                                                         value="Buscar"
                                                         icon="ui-icon-search"
                                                         process="@this,idFichaCaracterizacion,nomPrograma"
                                                         update="tablaFichaCaracterizacion, :msgDialogoBuscar"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                            <br /><br /><br />
                            <p:dataTable value="#{guiaAprendizajeController.listBusquedaFicha}"
                                         var="item" paginator="true" rows="5" id="tablaFichaCaracterizacion">
                                <p:column> 
                                    <f:facet name="header">
                                        <h:outputText value="#{bundle.ListFichaCaracterizacionTitle_idFichaCaracterizacion}"/>
                                    </f:facet>
                                    <h:outputText value="#{item.idFichaCaracterizacion}"/>
                                </p:column>
                                <p:column >  
                                    <f:facet name="header">
                                        <h:outputText value="#{bundle.ListFichaCaracterizacionTitle_idProyectoFormativo}"/>
                                    </f:facet>
                                    <h:outputText value="#{item.idProyectoFormativo}"/>
                                </p:column>
                                <p:column >  
                                    <f:facet name="header">
                                        <h:outputText value="#{bundle.ListFichaCaracterizacionTitle_idPrograma}"/>
                                    </f:facet>
                                    <h:outputText value="#{item.idPrograma}"/>
                                </p:column>
                                <p:column>
                                    <p:commandButton id="botonSeleccionFicha" process="@this" action="#{guiaAprendizajeController.agregarFicha()}"
                                                     oncomplete="dlgBuscarFicha.hide();" icon="ui-icon-plus" update=":formGuiaAprendizaje, :buscarFichas">
                                        <f:setPropertyActionListener value="#{item}" target="#{guiaAprendizajeController.selectedFicha}"/>
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </h:form>
                    </p:tab>

                </p:tabView>   
            </p:dialog>
        </ui:define>
    </ui:composition>

</html>
